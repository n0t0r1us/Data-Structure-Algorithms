#include <iostream>
#include <string>
using namespace std;

bool isAlphaStyle(const string &s) {
    if (!islower(s[0])) return false;
    for (int i = 0; i < (int)s.size(); ++i) {
        if (s[i] == '_') return false;
    }
    return true;
}

bool isBetaStyle(const string &s) {
    if (s[0] == '_' || s[s.size() - 1] == '_') return false;
    for (int i = 0; i < (int)s.size(); ++i) {
        if (isupper(s[i])) return false;
        if (s[i] == '_' && (i + 1 < (int)s.size() && s[i + 1] == '_')) return false;
    }
    return true;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(0);
    string s;
    cin >> s;
    if (isAlphaStyle(s)) {
        string res;
        res.reserve(s.size() * 2);
        for (int i = 0; i < (int)s.size(); ++i) {
            if (isupper(s[i])) {
                res.push_back('_');
                res.push_back(char(tolower(s[i])));
            } else res.push_back(s[i]);
        }
        cout << res << '\n';
    } else if (isBetaStyle(s)) {
        string res;
        res.reserve(s.size());
        bool up = false;
        for (int i = 0; i < (int)s.size(); ++i) {
            if (s[i] == '_') up = true;
            else {
                if (up) { res.push_back(char(toupper(s[i]))); up = false; }
                else res.push_back(s[i]);
            }
        }
        cout << res << '\n';
    } else {
        cout << "Error!\n";
    }
    return 0;
}
